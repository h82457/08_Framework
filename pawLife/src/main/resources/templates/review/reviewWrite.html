<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>후기 게시판 글쓰기</title>
    <th:block th:replace="~{common/common}"></th:block>
    <link rel="stylesheet" href="/css/review/review-write.css">

    <!-- 기본적인 에디터와 번역을 위한 script 이식 -->
    <script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
</head>
<body>
    <main>
        <th:block th:replace="~{common/header}"></th:block>
        
        <form action="/review/reviewWrite" method="POST" id="upload">
            <section class="board">

                <!-- <input type="hidden" name="_csrf" id="_csrf" th:value="${_csrf?.token}"> -->
                <div class="form-group">
                    <!-- 이 textarea를 ckeditor에 넘겨 준다. -->
                    <textarea name="editor1"></textarea>


                </div>	

                <!-- <h1><input type="text" placeholder="제목" name="reviewTitle" id="reviewTitle"></h1>
                <section class="board-box">
                    <textarea class="form-control" id="ckeditor" name="ckeditor"	rows="3">${bbs.content}</textarea>
                    <textarea name="reviewContent" id="editor"></textarea> -->
                    <!--  -->
                    <button>글작성</button>

                </section>
            </section>
        </form>
    </main>

    <th:block th:replace="~{common/footer}"></th:block> 
    <!-- editor -->
    <!--  -->
    <!-- 기본적인 에디터와 번역을 위한 script 이식 -->


<script>
CKEDITOR.replace('editor1', {
    filebrowserUploadUrl : 'imageUpload'
});

// CKEDITOR.replace('contents', {
// 		filebrowserUploadUrl : '${pageContext.request.contextPath}/adm/fileupload.do'
// 	});
// $(function () {

// });

// $(document).ready(function() {

//     $(document).ready(function() {
//         // 파일 업로드를 할 경로를 지정하자. (with csrf)
//         const $ckUploadPath = "/review/image?_csrf=" + $('#_csrf').val();
//         CKEDITOR.replace('info', {
//             filebrowserUploadUrl : $ckUploadPath
//         })
//     })


// CKEDITOR.replace( 'editor1', {//해당 이름으로 된 textarea에 에디터를 적용
//     width:'100%',
//     height:'400px',
//     filebrowserUploadUrl:  "/review/ckEditorUpload",
//     image_previewText: ' '

// });


// //이미지 업로드가 끝나고 실행하는 함수
// CKEDITOR.on( 'dialogDefinition', function( ev ) {
//    // Take the dialog name and its definition from the event data.
//     let dialogName = ev.data.name;
//     let dialogDefinition = ev.data.definition;


//     let uploadTab = dialogDefinition.getContents( 'Upload' );
//     let uploadButton = uploadTab.get('uploadButton');

//     uploadButton['filebrowser']['onSelect'] = function( fileUrl, errorMessage ) {

//     }

// });
</script>
    <!-- <script src="/js/review/reviewWrite.js"></script> -->


